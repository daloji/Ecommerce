<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Coza Store</title>
  <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
	
	<div th:replace="fragments/script.html"/> 
	
	  <style>
	       #loading-spinner {
	     border: 8px solid #f3f3f3;
	     border-top: 8px solid #3498db;
	     border-radius: 50%;
	     width: 50px;
	     height: 50px;
	     animation: spin 1s linear infinite;
	     margin: 20% auto;
	 }

	 @keyframes spin {
	     0% { transform: rotate(0deg); }
	     100% { transform: rotate(360deg); }
	 }

	 #content {
	     display: none;
	 }
	 </style>

	 <script th:src="@{/vendor/js/helpers.js}"></script>
	<script th:src="@{/js/config.js}"></script>
</head>
<body>
    <div id="loading-spinner"></div>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar" id="content" style="display: none;">
      <div class="layout-container">
        <!-- Menu -->
		<div th:replace="fragments/menu.html"/> 
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none container-xxl  " style="background-color: #fff; width: 100%;">
              <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                <i class="bx bx-menu bx-sm"></i>
                <span class="app-brand-text demo menu-text fw-bolder ms-2" style="color: #566a7f;">Coza store</span>
              </a>
            </div>

<div class="container-xxl flex-grow-1 container-p-y">
  <h4 class="fw-bold mb-4">Edit User</h4>

  <!-- Basic Layout & Basic with Icons -->
  <div class="row">
    <!-- Basic Layout -->
    <div class="col-xxl">
      <a class="btn btn-primary" href="/admin/product" role="button">Back to Product</a>
      <div class="card mb-4" style="margin-top: 20px;">

        <div style="margin-top: 11px; text-align: center; font-family: 'Poppins',sans-serif;">
          
          
        </div>

        <div class="card-body">
        <form method="post" th:action="@{/admin/edit-user}" th:object="${user}">
           
		  <input type="hidden" th:field="${user.id}"  />
			
				 <div class="row mb-3">
              <label class="col-sm-2 col-form-label" for="basic-default-name">First Name</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="first_name" placeholder="Firt Name" th:field="${user.first_name}"  />
              </div>
            </div>

           <div class="row mb-3">
              <label class="col-sm-2 col-form-label" for="basic-default-name">Last Name</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="last_name" placeholder="Last Name" th:field="${user.last_name}" />
              </div>
            </div>

         <div class="row mb-3">
              <label class="col-sm-2 col-form-label" for="basic-default-name">Email</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="email" placeholder="Email" th:field="${user.email}" />
              </div>
            </div>

          <div class="row mb-3">
              <label class="col-sm-2 col-form-label" for="basic-default-name">Phone</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="phone" placeholder="Phone" th:field="${user.phone}" />
              </div>
            </div>
			
			
			<th:block th:if="${user.address != null}"> 
				<div class="row mb-3">
				   <label class="col-sm-2 col-form-label" for="basic-default-name">Complement Adresse</label>
				   <div class="col-sm-10">
				        <input type="text" class="form-control" id="phone" placeholder="Phone" th:field="${user.address.complement}" />
				   </div>
				</div>	
				<div class="row mb-3">
					 <label class="col-sm-2 col-form-label" for="basic-default-name">Road  Adresse</label>
					  <div class="col-sm-10">
					       <input type="text" class="form-control" id="road" placeholder="road" th:field="${user.address.road}" />
					   </div>
				</div>	
				<div class="row mb-3">
					 <label class="col-sm-2 col-form-label" for="basic-default-name">District Adresse</label>
					  <div class="col-sm-10">
					       <input type="text" class="form-control" id="district" placeholder="district" th:field="${user.address.district}" />
					   </div>
				</div>	
				<div class="row mb-3">
					 <label class="col-sm-2 col-form-label" for="basic-default-name">City Adresse</label>
					  <div class="col-sm-10">
					       <input type="text" class="form-control" id="city" placeholder="city" th:field="${user.address.city}" />
					   </div>
				</div>	
				
				<div class="row mb-3">
					<label class="col-sm-2 col-form-label" for="basic-default-name">Country Adresse</label>
					 <div class="col-sm-10">
					       <input type="text" class="form-control" id="country" placeholder="country" th:field="${user.address.country}" />
					  </div>
				</div>	
			</th:block>
			
			<th:block th:if="${user.address == null}"> 
				<td text=""></td>
				<td text=""></td>
				<td text=""></td>
				<td text=""></td>
				<td text=""></td>
			</th:block>
			
			<div class="row mb-3">
			     <label class="col-sm-2 col-form-label" for="basic-default-name">Roles:</label>
			     <div class="col-sm-10">
					<select class="form-control border border-primary" id="role" name="role">
					    <option th:each="role : ${listRole}" th:value="${role.id}" th:text="${role.role_name}">
					     </option>
					</select>
			     </div>
			</div>
			
			<div class="row justify-content-end mb-3">
			     <div class="col-sm-10">
			          <button type="submit" class="btn btn-primary">Update User</button>
			      </div>
			</div>
        

          </form> 
        </div>
      </div>
    </div>
    <!-- Basic with Icons -->
  </div>
</div>
<!-- / Content -->

<div class="content-backdrop fade"></div>
</div>
<!-- Content wrapper -->
</div>
<!-- / Layout page -->
</div>

<!-- Overlay -->
<div class="layout-overlay layout-menu-toggle"></div>
</div>
<!-- / Layout wrapper -->

<!-- Core JS -->
<!-- build:js assets/vendor/js/core.js -->
<script th:src="@{/vendor/libs/jquery/jquery.js}"></script>
<script th:src="@{/vendor/libs/popper/popper.js}"></script>
<script th:src="@{/vendor/js/bootstrap.js}"></script>
<script th:src="@{/vendor/libs/perfect-scrollbar/perfect-scrollbar.js}"></script>

<script th:src="@{/vendor/js/menu.js}"></script>
<!-- endbuild -->

<!-- Vendors JS -->
<script th:src="@{/vendor/libs/apex-charts/apexcharts.js}"></script>

<!-- Main JS -->
<script th:src="@{/js/main.js}"></script>

<!-- Page JS -->
<script th:src="@{/js/dashboards-analytics.js}"></script>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<script>
    function validateLetterField(input) {
    // Remove spaces at the beginning
    input.value = input.value.replace(/^\s+/g, '');

    // Allow only letters and spaces
    input.value = input.value.replace(/[^A-Za-z\s]/g, '');
  }

  function validateDescription(input) {
    // Remove spaces at the beginning
    input.value = input.value.replace(/^\s+/g, '');

    // Allow only letters, commas, and full stops
    input.value = input.value.replace(/[^A-Za-z,.\s]/g, '');
  }

  function validateNumberInput(input) {
    input.value = input.value.replace(/\D/g, ''); // Allow only digits (0-9)

    // Remove leading zeros
    input.value = input.value.replace(/^0+/, '');
  }

  function validateForm() {
    const productName = document.getElementById("productName").value;
    const productBrand = document.getElementById("productBrand").value;
    const productDescription = document.getElementById("productDescription").value;
/*
    // Reset the error message
    displayError("", "error-message");

    // Check if any field is only whitespace or starts with a space
    if (isWhitespaceOrStartsWithSpace(productName) || isWhitespaceOrStartsWithSpace(productBrand) || isWhitespaceOrStartsWithSpace(productDescription)) {
      displayError("Product Name, Brand, and Description should contain characters only");
      return false;
    }

    // Validate characters using regex (allow only letters and spaces)
    const charRegex = /^[A-Za-z\s]+$/;
    if (!charRegex.test(productName) || !charRegex.test(productBrand)) {
      displayError("Product Name and Brand should contain letters only.");
      return false;
    }

    // Validate description field allowing letters, numbers, commas, full stops, and spaces
    const descSizeRegex = /^[A-Za-z0-9,.\s]+$/;
    if (!descSizeRegex.test(productDescription)) {
      displayError("Description should contain letters, numbers, commas, full stops, and spaces only.");
      return false;
    }
*/
    return true;
  }

  function isWhitespaceOrStartsWithSpace(str) {
    return /^\s|\s$/.test(str);
  }

  function displayError(message, elementId = "error-message") {
    const errorElement = document.getElementById(elementId);
    if (errorElement) {
      errorElement.innerHTML = message;
    }
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Hide the loading spinner
    document.getElementById("loading-spinner").style.display = "none";
    // Display the content
    document.getElementById("content").style.display = "block";
  });
</script>

</body>

</html>
	 
